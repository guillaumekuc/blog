<!-- 
Example include
  	include avatar-btn.html 
    	link = [url]
    	profilePic = [url]
    	logo = [svg]
    	title = [string]

Example configuration (set these CSS variables externally):
  .avatar {
    --btn-size: 120px;
	--btn-main-color: red;
	--logo-size: 105px;
	--logo-fill: white;
	--logo-offset-y: 0px; 
	--logo-offset-x: 0px;
  }
-->


<a href="{{include.link | '#'}}" title="{{include.title | 'Avatar Link'}}" aria-label="{{include.title | 'Avatar Link'}}" target="_blank" class="avatar" >
            <img 
            	class="avatar-profile-pic" 
            	src="{{include.profilePic | relative_url}}" 
            	alt="Profile" 
        	/>
            <div class="avatar-overlay">
             	<div class="avatar-mask"></div>
              	{% svg "{{include.logo}}" class="avatar-logo" %}
            </div>
</a>

<style>
	.avatar {
		position: relative;
		width: fit-content;
		height: fit-content;
		--half-tone: url("https://guillaumekuc.github.io/blog/assets/img/dots1.svg");
	}

	.avatar-profile-pic {
		display: block;
		box-sizing: content-box;
		width: var(--btn-size, 120px);
		height: var(--btn-size, 120px);
		border-radius: 50%;
		transition: all 0.08s steps(2);
		border: solid 4px transparent;
		box-shadow: 0 0 0 0px var(--btn-main-color, red);		
	}
	.avatar-overlay {
		opacity: 0;
		position: absolute;
		box-sizing: content-box;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		width: var(--btn-size, 120px);
  		height: var(--btn-size, 120px);
  		border-radius: 50%;
  		display: flex;
	    align-items: center;
		justify-content: center;

	}

	.avatar-mask {

		display: block;
		position:absolute;
		box-sizing: content-box;
  		background-color: rgba(0, 0, 0, 1);
		width: var(--btn-size, 120px);
		height: var(--btn-size, 120px);
		border-radius: 50%;
		mask: var(--half-tone);
		mask-size: 115px;
		mask-type: alpha;		
	}

	.avatar-logo {
		display:block;
		position:absolute;
		margin-top: var(--logo-offset-y, 0);
		margin-left: var(--logo-offset-x, 0);
		opacity: 1;
		width: var(--logo-size, 105px);
		height: var(--logo-size, 105px);
		fill: var(--logo-fill, white);
		transition:all 0.08s steps(2);
		transform: scale(1.05);
	}

	.avatar:hover .avatar-overlay {
	  opacity: 1;
	  transition: all 0.16s steps(1 start) ;
	  
	}
	.avatar:hover .avatar-logo {
	  transform: scale(1.0);
	  transition: transform 0.16s steps(3) ;

	}

	.avatar:hover .avatar-profile-pic {
	  border-color: transparent;
	  box-shadow: 0 0 0 5px var(--btn-main-color, red);
	  transition: all 0.16s steps(3);
	}

</style>